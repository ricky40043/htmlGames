[上午1:33:00] 自動化測試系統已準備就緒
[上午1:33:00] 系統已準備就緒，點擊開始測試
[上午1:33:02] 自動重複測試: 已啟用
[上午1:33:03] === 開始自動化測試 ===
[上午1:33:03] 正在啟動測試...
[上午1:33:03] 開始測試循環 1
[上午1:33:03] 正在創建房間...
[上午1:33:03] 當前頁面協議 | {"protocol":"http:","href":"http://localhost:5173/tmp_rovodev_auto_test.html"}
[上午1:33:03] 發送創建房間請求 | {"url":"http://localhost:8080/api/rooms","data":{"hostName":"AutoHost","gameMode":"two_types","totalQuestions":3,"questionTimeLimit":10}}
[上午1:33:03] 收到響應 | {"status":201,"statusText":"Created","headers":{"content-length":"312","content-type":"application/json; charset=utf-8"}}
[上午1:33:03] 房間創建成功 | {"createdAt":"2025-10-23T01:33:03.715806+08:00","hostName":"AutoHost","joinUrl":"http://localhost:5173/join/R2Y96Q","qrCode":"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=http://localhost:5173/join/R2Y96Q","questionTimeLimit":10,"roomId":"R2Y96Q","totalQuestions":3}
[上午1:33:03] 主持人正在連接...
[上午1:33:03] 主持人 開始建立 WebSocket 連接 | {"url":"ws://localhost:8080/ws?t=1761154383717&r=0.648144156892899"}
[上午1:33:03] 主持人 WebSocket 連接成功 | {"readyState":1,"url":"ws://localhost:8080/ws?t=1761154383717&r=0.648144156892899"}
[上午1:33:03] 主持人發送 JOIN_AS_HOST | {"message":{"type":"JOIN_AS_HOST","data":{"roomId":"R2Y96Q","hostName":"AutoHost"}},"socketState":1,"socketUrl":"ws://localhost:8080/ws?t=1761154383717&r=0.648144156892899"}
[上午1:33:03] 主持人加入房間
[上午1:33:03] 玩家正在加入...
[上午1:33:03] 玩家1 開始建立 WebSocket 連接 | {"url":"ws://localhost:8080/ws?t=1761154383720&r=0.06106357100116455"}
[上午1:33:03] 主持人收到: CONNECTED | {"clientId":"bf1f0061-ccec-4576-bd02-324910c38bc2","message":"歡迎來到 Kahoot 遊戲！"}
[上午1:33:03] 主持人收到: HOST_JOINED | {"clientId":"bf1f0061-ccec-4576-bd02-324910c38bc2","hostName":"AutoHost","players":[],"roomId":"R2Y96Q","roomUrl":"http://localhost:5173/join/R2Y96Q","totalPlayers":0}
[上午1:33:03] 玩家1 WebSocket 連接成功 | {"readyState":1,"url":"ws://localhost:8080/ws?t=1761154383720&r=0.06106357100116455"}
[上午1:33:03] 玩家1收到: CONNECTED
[上午1:33:03] 玩家1收到: PLAYER_JOINED
[上午1:33:03] 主持人收到: PLAYER_JOINED | {"playerId":"f1e2d568-f951-4cb7-98b5-79abf7d56dc7","playerName":"AutoPlayer1","players":[{"id":"f1e2d568-f951-4cb7-98b5-79abf7d56dc7","name":"AutoPlayer1","roomId":"R2Y96Q","score":0,"isHost":false,"isConnected":true,"lastActivity":"2025-10-23T01:33:03.733298+08:00"}],"totalPlayers":1}
[上午1:33:03] 玩家1收到: PLAYER_JOINED
[上午1:33:04] 玩家2 開始建立 WebSocket 連接 | {"url":"ws://localhost:8080/ws?t=1761154384734&r=0.3969038500621488"}
[上午1:33:04] 玩家2 WebSocket 連接成功 | {"readyState":1,"url":"ws://localhost:8080/ws?t=1761154384734&r=0.3969038500621488"}
[上午1:33:04] 所有玩家已加入房間
[上午1:33:04] 正在開始遊戲...
[上午1:33:04] 玩家2收到: CONNECTED
[上午1:33:04] 玩家1收到: PLAYER_JOINED
[上午1:33:04] 主持人收到: PLAYER_JOINED | {"playerId":"8fe7e59b-6aa0-4548-ad60-c490da7e9f10","playerName":"AutoPlayer2","players":[{"id":"f1e2d568-f951-4cb7-98b5-79abf7d56dc7","name":"AutoPlayer1","roomId":"R2Y96Q","score":0,"isHost":false,"isConnected":true,"lastActivity":"2025-10-23T01:33:03.733298+08:00"},{"id":"8fe7e59b-6aa0-4548-ad60-c490da7e9f10","name":"AutoPlayer2","roomId":"R2Y96Q","score":0,"isHost":false,"isConnected":true,"lastActivity":"2025-10-23T01:33:04.73897+08:00"}],"totalPlayers":2}
[上午1:33:04] 玩家2收到: PLAYER_JOINED
[上午1:33:04] 玩家2收到: PLAYER_JOINED
[上午1:33:06] 遊戲已開始
[上午1:33:06] 主持人收到: GAME_STARTED | {"firstHost":"8fe7e59b-6aa0-4548-ad60-c490da7e9f10","roomId":"R2Y96Q","totalQuestions":3}
[上午1:33:06] 玩家2收到: GAME_STARTED
[上午1:33:06] 玩家1收到: GAME_STARTED
[上午1:33:06] 主持人收到: NEW_QUESTION | {"currentQuestion":1,"hostPlayer":"8fe7e59b-6aa0-4548-ad60-c490da7e9f10","optionA":"睡覺一定要關燈","optionB":"睡覺要留小夜燈","question":"世界上只有兩種人","questionId":13,"questionIndex":0,"questionText":"世界上只有兩種人","timeLimit":10,"totalQuestions":3}
[上午1:33:06] 收到第1題 | {"questionText":"世界上只有兩種人"}
[上午1:33:06] 主持人收到: TIMER_UPDATE | {"questionIndex":1,"timeLeft":10}
[上午1:33:06] 玩家2收到: NEW_QUESTION
[上午1:33:06] 玩家2收到: TIMER_UPDATE
[上午1:33:06] 玩家1收到: NEW_QUESTION
[上午1:33:06] 玩家1收到: TIMER_UPDATE
[上午1:33:07] 玩家2收到: TIMER_UPDATE
[上午1:33:07] 玩家1收到: TIMER_UPDATE
[上午1:33:07] 主持人收到: TIMER_UPDATE | {"questionIndex":1,"timeLeft":9}
[上午1:33:08] 主持人收到: TIMER_UPDATE | {"questionIndex":1,"timeLeft":8}
[上午1:33:08] 玩家2收到: TIMER_UPDATE
[上午1:33:08] 玩家1收到: TIMER_UPDATE
[上午1:33:08] 玩家1自動答題: A
[上午1:33:08] 玩家2自動答題: B
[上午1:33:08] 玩家1收到: ANSWER_SUBMITTED
[上午1:33:08] 玩家2收到: ANSWER_SUBMITTED
[上午1:33:08] 主持人收到: SCORES_UPDATE | {"currentQuestion":1,"hostAnswer":"B","scores":[{"playerId":"8fe7e59b-6aa0-4548-ad60-c490da7e9f10","playerName":"AutoPlayer2","score":50,"rank":1,"scoreGained":50},{"playerId":"f1e2d568-f951-4cb7-98b5-79abf7d56dc7","playerName":"AutoPlayer1","score":0,"rank":2,"scoreGained":0}]}
[上午1:33:08] 分數更新 | [{"playerId":"8fe7e59b-6aa0-4548-ad60-c490da7e9f10","playerName":"AutoPlayer2","score":50,"rank":1,"scoreGained":50},{"playerId":"f1e2d568-f951-4cb7-98b5-79abf7d56dc7","playerName":"AutoPlayer1","score":0,"rank":2,"scoreGained":0}]
[上午1:33:08] 玩家1收到: SCORES_UPDATE
[上午1:33:08] 玩家2收到: SCORES_UPDATE
[上午1:33:09] 玩家2收到: TIMER_UPDATE
[上午1:33:09] 主持人收到: TIMER_UPDATE | {"questionIndex":1,"timeLeft":7}
[上午1:33:09] 玩家1收到: TIMER_UPDATE
[上午1:33:10] 玩家1收到: TIMER_UPDATE
[上午1:33:10] 玩家2收到: TIMER_UPDATE
[上午1:33:10] 主持人收到: TIMER_UPDATE | {"questionIndex":1,"timeLeft":6}
[上午1:33:11] 玩家1收到: TIMER_UPDATE
[上午1:33:11] 主持人收到: TIMER_UPDATE | {"questionIndex":1,"timeLeft":5}
[上午1:33:11] 玩家2收到: TIMER_UPDATE
[上午1:33:12] 玩家1收到: TIMER_UPDATE
[上午1:33:12] 主持人收到: TIMER_UPDATE | {"questionIndex":1,"timeLeft":4}
[上午1:33:12] 玩家2收到: TIMER_UPDATE
[上午1:33:13] 主持人 WebSocket 連接超時 | {"readyState":1}
[上午1:33:13] 玩家1 WebSocket 連接超時 | {"readyState":1}
[上午1:33:13] 玩家2收到: TIMER_UPDATE
[上午1:33:13] 主持人收到: TIMER_UPDATE | {"questionIndex":1,"timeLeft":3}
[上午1:33:13] 玩家1收到: TIMER_UPDATE
[上午1:33:13] 玩家2收到: NEW_QUESTION
[上午1:33:13] 主持人收到: NEW_QUESTION | {"currentQuestion":2,"hostPlayer":"f1e2d568-f951-4cb7-98b5-79abf7d56dc7","optionA":"早起的鳥兒","optionB":"夜貓子類型","question":"世界上只有兩種人","questionId":22,"questionIndex":1,"questionText":"世界上只有兩種人","timeLimit":10,"totalQuestions":3}
[上午1:33:13] 收到第2題 | {"questionText":"世界上只有兩種人"}
[上午1:33:13] 玩家1收到: NEW_QUESTION
[上午1:33:14] 玩家2 WebSocket 連接超時 | {"readyState":1}
[上午1:33:15] 玩家1自動答題: A
[上午1:33:15] 玩家2自動答題: B
[上午1:33:15] 玩家1收到: ANSWER_SUBMITTED
[上午1:33:15] 玩家2收到: ANSWER_SUBMITTED
[上午1:33:15] 主持人收到: SCORES_UPDATE | {"currentQuestion":2,"hostAnswer":"A","scores":[{"playerId":"f1e2d568-f951-4cb7-98b5-79abf7d56dc7","playerName":"AutoPlayer1","score":50,"rank":1,"scoreGained":50},{"playerId":"8fe7e59b-6aa0-4548-ad60-c490da7e9f10","playerName":"AutoPlayer2","score":50,"rank":2,"scoreGained":0}]}
[上午1:33:15] 分數更新 | [{"playerId":"f1e2d568-f951-4cb7-98b5-79abf7d56dc7","playerName":"AutoPlayer1","score":50,"rank":1,"scoreGained":50},{"playerId":"8fe7e59b-6aa0-4548-ad60-c490da7e9f10","playerName":"AutoPlayer2","score":50,"rank":2,"scoreGained":0}]
[上午1:33:15] 玩家1收到: SCORES_UPDATE
[上午1:33:15] 玩家2收到: SCORES_UPDATE
[上午1:33:20] 玩家2收到: NEW_QUESTION
[上午1:33:20] 主持人收到: NEW_QUESTION | {"currentQuestion":3,"hostPlayer":"8fe7e59b-6aa0-4548-ad60-c490da7e9f10","optionA":"冷氣要開到很冷","optionB":"冷氣適中就好","question":"世界上只有兩種人","questionId":18,"questionIndex":2,"questionText":"世界上只有兩種人","timeLimit":10,"totalQuestions":3}
[上午1:33:20] 收到第3題 | {"questionText":"世界上只有兩種人"}
[上午1:33:20] 玩家1收到: NEW_QUESTION
[上午1:33:22] 玩家1自動答題: A
[上午1:33:22] 玩家2自動答題: B
[上午1:33:22] 玩家1收到: ANSWER_SUBMITTED
[上午1:33:22] 玩家2收到: ANSWER_SUBMITTED
[上午1:33:22] 主持人收到: SCORES_UPDATE | {"currentQuestion":3,"hostAnswer":"B","scores":[{"playerId":"8fe7e59b-6aa0-4548-ad60-c490da7e9f10","playerName":"AutoPlayer2","score":100,"rank":1,"scoreGained":50},{"playerId":"f1e2d568-f951-4cb7-98b5-79abf7d56dc7","playerName":"AutoPlayer1","score":50,"rank":2,"scoreGained":0}]}
[上午1:33:22] 分數更新 | [{"playerId":"8fe7e59b-6aa0-4548-ad60-c490da7e9f10","playerName":"AutoPlayer2","score":100,"rank":1,"scoreGained":50},{"playerId":"f1e2d568-f951-4cb7-98b5-79abf7d56dc7","playerName":"AutoPlayer1","score":50,"rank":2,"scoreGained":0}]
[上午1:33:22] 玩家1收到: SCORES_UPDATE
[上午1:33:22] 玩家2收到: SCORES_UPDATE
[上午1:33:27] 主持人收到: GAME_FINISHED | {"finalRanking":[{"playerId":"8fe7e59b-6aa0-4548-ad60-c490da7e9f10","playerName":"AutoPlayer2","score":100,"rank":1,"scoreGained":0},{"playerId":"f1e2d568-f951-4cb7-98b5-79abf7d56dc7","playerName":"AutoPlayer1","score":50,"rank":2,"scoreGained":0}],"message":"遊戲結束！"}
[上午1:33:27] 遊戲結束 | {"finalRanking":[{"playerId":"8fe7e59b-6aa0-4548-ad60-c490da7e9f10","playerName":"AutoPlayer2","score":100,"rank":1,"scoreGained":0},{"playerId":"f1e2d568-f951-4cb7-98b5-79abf7d56dc7","playerName":"AutoPlayer1","score":50,"rank":2,"scoreGained":0}],"message":"遊戲結束！"}
[上午1:33:27] 測試循環 1 完成 | {"duration":"24.053秒","winner":"AutoPlayer2"}
[上午1:33:27] 玩家2收到: GAME_FINISHED
[上午1:33:27] 玩家1收到: GAME_FINISHED
[上午1:33:30] 開始清理 WebSocket 連接...
[上午1:33:30] 關閉主持人 WebSocket 連接
[上午1:33:30] 關閉玩家1 WebSocket 連接
[上午1:33:30] 關閉玩家2 WebSocket 連接
[上午1:33:30] WebSocket 連接清理完成
[上午1:33:35] 自動重新開始下一輪測試...
[上午1:33:35] 開始測試循環 2
[上午1:33:35] 正在創建房間...
[上午1:33:35] 當前頁面協議 | {"protocol":"http:","href":"http://localhost:5173/tmp_rovodev_auto_test.html"}
[上午1:33:35] 發送創建房間請求 | {"url":"http://localhost:8080/api/rooms","data":{"hostName":"AutoHost","gameMode":"two_types","totalQuestions":3,"questionTimeLimit":10}}
[上午1:33:35] 收到響應 | {"status":201,"statusText":"Created","headers":{"content-length":"312","content-type":"application/json; charset=utf-8"}}
[上午1:33:35] 房間創建成功 | {"createdAt":"2025-10-23T01:33:35.775006+08:00","hostName":"AutoHost","joinUrl":"http://localhost:5173/join/EPN7D5","qrCode":"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=http://localhost:5173/join/EPN7D5","questionTimeLimit":10,"roomId":"EPN7D5","totalQuestions":3}
[上午1:33:35] 主持人正在連接...
[上午1:33:35] 主持人 開始建立 WebSocket 連接 | {"url":"ws://localhost:8080/ws?t=1761154415777&r=0.05971376851802934"}
[上午1:33:35] 主持人 WebSocket 連接成功 | {"readyState":1,"url":"ws://localhost:8080/ws?t=1761154415777&r=0.05971376851802934"}
[上午1:33:35] 主持人發送 JOIN_AS_HOST | {"message":{"type":"JOIN_AS_HOST","data":{"roomId":"EPN7D5","hostName":"AutoHost"}},"socketState":1,"socketUrl":"ws://localhost:8080/ws?t=1761154415777&r=0.05971376851802934"}
[上午1:33:35] 主持人加入房間
[上午1:33:35] 玩家正在加入...
[上午1:33:35] 玩家1 開始建立 WebSocket 連接 | {"url":"ws://localhost:8080/ws?t=1761154415780&r=0.8744018920895323"}
[上午1:33:35] 玩家1 WebSocket 連接成功 | {"readyState":1,"url":"ws://localhost:8080/ws?t=1761154415780&r=0.8744018920895323"}
[上午1:33:36] 玩家2 開始建立 WebSocket 連接 | {"url":"ws://localhost:8080/ws?t=1761154416793&r=0.7937810549719864"}
[上午1:33:36] 玩家2 WebSocket 連接成功 | {"readyState":1,"url":"ws://localhost:8080/ws?t=1761154416793&r=0.7937810549719864"}
[上午1:33:36] 所有玩家已加入房間
[上午1:33:36] 正在開始遊戲...
[上午1:33:38] 遊戲已開始
[上午1:33:45] 主持人 WebSocket 連接超時 | {"readyState":1}
[上午1:33:45] 玩家1 WebSocket 連接超時 | {"readyState":1}
[上午1:33:46] 玩家2 WebSocket 連接超時 | {"readyState":1}