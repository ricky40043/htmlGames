
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>進階猜數字遊戲</title>
  <style>
    body { background: #111; color: #fff; font-family: sans-serif; text-align: center; padding-top: 50px; }
    h1 { margin-bottom: 20px; }
    select, input, button { font-size: 1.2rem; padding: 5px 10px; margin: 10px; }
    #log { margin-top: 20px; white-space: pre-line; max-width: 500px; margin-left: auto; margin-right: auto; }
  </style>
</head>
<body>
  <h1>🔢 猜數字遊戲（自訂範圍）</h1>
  <div>
    選擇範圍：
    <select id="rangeSelect">
      <option value="100">1 ～ 100</option>
      <option value="1000">1 ～ 1000</option>
    </select>
    <button onclick="generateAnswer()">出題！</button>
  </div>

  <div id="gameArea" style="display:none;">
    <p>我想了一個數字，你來猜！</p>
    <input type="number" id="guess" placeholder="輸入你的猜測">
    <button onclick="submitGuess()">猜！</button>
    <div id="log"></div>
  </div>

  <script>
    let answer = 0;
    let attempts = 0;
    let min = 1;
    let max = 100;

    function generateAnswer() {
      const range = Number(document.getElementById("rangeSelect").value);
      min = 1;
      max = range;
      answer = Math.floor(Math.random() * range) + 1;
      attempts = 0;
      document.getElementById("log").textContent = '';
      document.getElementById("gameArea").style.display = 'block';
      document.getElementById("guess").disabled = false;
      document.getElementById("guess").value = '';
      console.log("答案（開發用）:", answer); // 可移除
    }

    function submitGuess() {
      const input = document.getElementById('guess');
      const log = document.getElementById('log');
      const guess = Number(input.value);

      if (guess < min || guess > max) {
        log.textContent += `⚠️ 請輸入 ${min} ～ ${max} 之間的數字\n`;
        return;
      }

      attempts++;

      if (guess < answer) {
        min = Math.max(min, guess + 1);
        log.textContent += `第 ${attempts} 次：${guess} 太小了，請猜 ${min}～${max}\n`;
      } else if (guess > answer) {
        max = Math.min(max, guess - 1);
        log.textContent += `第 ${attempts} 次：${guess} 太大了，請猜 ${min}～${max}\n`;
      } else {
        log.textContent += `🎉 恭喜你猜中了！答案是 ${answer}，共猜了 ${attempts} 次\n`;
        document.getElementById("guess").disabled = true;
      }

      input.value = '';
      input.focus();
    }
  </script>
</body>
</html>
